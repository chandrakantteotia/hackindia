<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Leaderboard - SharpPlay Web</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/leaderboard.css">
</head>
<body>
  <!-- Loader -->
  <div id="preloader">
    <div class="loader-doors">
      <div class="door door-left"></div>
      <div class="door door-right"></div>
    </div>
    <div class="loader-content">
      <div class="loader-container">
        <div class="loader-ring"></div>
        <div class="loader-ring"></div>
        <div class="loader-ring"></div>
        <div class="loader-logo">‚ö°</div>
      </div>
      <div class="loader-text">
        <h2>SharpPlay</h2>
        <p>Loading Amazing Experience...</p>
      </div>
    </div>
  </div>

  <nav class="navbar">
    <div class="nav-container">
      <div class="logo">
        <h1>‚ö° SharpPlay</h1>
      </div>
      <div class="nav-links">
        <!-- <a href="index.html">Home</a>
        <a href="games.html">Games</a>
        <a href="leaderboard.html">Leaderboard</a>
        <a href="profile.html">Profile</a> -->
        <button id="connectWalletBtn" class="btn btn-outline" onclick="connectWallet()">ü¶ä Wallet</button>
        <button id="loginBtn" class="btn btn-primary" onclick="showLoginModal()" style="display: none;">Login</button>
        <div id="userProfile" class="user-profile" style="display: none;">
          <div class="nav-profile-avatar">
            <img id="navProfilePhoto" src="" alt="Profile" style="display: none;">
            <span id="navProfileIcon">üë§</span>
          </div>
          <span id="userName"></span>
          <button onclick="signOut()" class="btn btn-secondary">Logout</button>
        </div>
      </div>
    </div>
  </nav>

  <main class="leaderboard-container">
    <div class="leaderboard-header">
      <h1>üèÜ Global Leaderboard</h1>
      <p>Top players and their best scores</p>
    </div>

    <div class="leaderboard-filters">
      <button class="filter-btn active" onclick="filterLeaderboard('all')">All Time</button>
      <button class="filter-btn" onclick="filterLeaderboard('weekly')">This Week</button>
      <button class="filter-btn" onclick="filterLeaderboard('daily')">Today</button>
    </div>

    <!-- Top 3 Podium -->
    <div class="podium">
      <div class="podium-item second">
        <div class="podium-medal">ü•à</div>
        <div class="podium-avatar">üë§</div>
        <div class="podium-name" id="rank2Name">---</div>
        <div class="podium-score" id="rank2Score">0</div>
        <div class="podium-rank">2nd</div>
      </div>
      
      <div class="podium-item first">
        <div class="podium-medal">ü•á</div>
        <div class="podium-avatar">üëë</div>
        <div class="podium-name" id="rank1Name">---</div>
        <div class="podium-score" id="rank1Score">0</div>
        <div class="podium-rank">1st</div>
      </div>
      
      <div class="podium-item third">
        <div class="podium-medal">ü•â</div>
        <div class="podium-avatar">üë§</div>
        <div class="podium-name" id="rank3Name">---</div>
        <div class="podium-score" id="rank3Score">0</div>
        <div class="podium-rank">3rd</div>
      </div>
    </div>

    <!-- Leaderboard Table -->
    <div class="leaderboard-table-wrapper">
      <table class="leaderboard-table">
        <thead>
          <tr>
            <th>Rank</th>
            <th>Player</th>
            <th>Best Score</th>
            <th>Tokens Earned</th>
            <th>Streak</th>
          </tr>
        </thead>
        <tbody id="leaderboardBody">
          <tr>
            <td colspan="5" class="loading">Loading leaderboard...</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Your Rank -->
    <div id="yourRank" class="your-rank-card" style="display: none;">
      <h3>Your Ranking</h3>
      <div class="your-rank-content">
        <div class="rank-badge" id="yourRankBadge">#0</div>
        <div class="rank-details">
          <div>Best Score: <span id="yourBestScore">0</span></div>
          <div>Total Earned: <span id="yourTotalEarned">0 SHARP</span></div>
        </div>
      </div>
    </div>
  </main>

  <!-- Bottom Navigation -->
  <nav class="bottom-nav">
    <a href="index.html" class="nav-item">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
        <polyline points="9 22 9 12 15 12 15 22"/>
      </svg>
      <span>Home</span>
    </a>
    <a href="games.html" class="nav-item">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
      </svg>
      <span>Games</span>
    </a>
    <a href="leaderboard.html" class="nav-item active">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="3" y="3" width="7" height="7"/>
        <rect x="14" y="3" width="7" height="7"/>
        <rect x="14" y="14" width="7" height="7"/>
        <rect x="3" y="14" width="7" height="7"/>
      </svg>
      <span>Board</span>
    </a>
    <a href="profile.html" class="nav-item">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
        <circle cx="12" cy="7" r="4"/>
      </svg>
      <span>Profile</span>
    </a>
  </nav>

  <footer class="footer">
    <p>&copy; 2025 SharpPlay Web. Built for Web3 Gaming.</p>
  </footer>

  <!-- Web3.js SDK -->
  <script src="https://cdn.jsdelivr.net/npm/web3@1.8.0/dist/web3.min.js"></script>
  
  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  
  <script src="js/firebase-config.js"></script>
  <script src="js/web3-integration.js"></script>
  <script src="js/leaderboard.js"></script>
  
  <!-- Loader Script -->
  <script>
    window.addEventListener('load', function() {
      const preloader = document.getElementById('preloader');
      const doorLeft = document.querySelector('.door-left');
      const doorRight = document.querySelector('.door-right');
      
      setTimeout(() => {
        doorLeft.classList.add('open');
        doorRight.classList.add('open');
        preloader.classList.add('loaded');
        
        setTimeout(() => {
          preloader.classList.add('hidden');
          setTimeout(() => {
            preloader.style.display = 'none';
          }, 500);
        }, 1500);
      }, 1500);
    });
  </script>
</body>
</html>
